<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Source: utils/helpers.js</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Source: utils/helpers.js</h1>

    



    
    <section>
        <article>
            <pre class="prettyprint source linenums"><code>/**
 * Formatting helpers
 * @module utils/helpers
 * @author Jesse Kaufman &lt;jesse@jessekaufman.com>
 */

/**
 * Formats phone number
 *
 * @param {string} number - Phone number to format
 * @return {string} Formatted phone number
 */
exports.formatPhone = (number) =>
  number.substring(0, 3) +
  "-" +
  number.substring(3, 6) +
  "-" +
  number.substring(6);

/**
 * Formats video transcript
 *
 * Adds styling for timecodes in transcripts and makes them inline
 *
 * @param {string} transcript Transcript to format
 * @param {string} duration - Duration of video
 * @returns {string} Formatted transcript
 */
exports.formatVideoTranscript = (transcript, duration) => {
  // Default hasHour to false and use var so the scope is the function
  var hasHour = false;

  // If transcript is undefined, return empty string
  if (!transcript) {
    return "";
  }

  // If item's duration includes an hour, set hasHour = true for later
  if (duration.match(/01:\d\d:\d\d/)) {
    hasHour = true;
  }

  // Wrap timecodes in span for styling
  return transcript.replace(/((\d{1,2}:)+\d\d)/g, (time) => {
    let formattedTime = "";

    // Split timecode into seconds, minutes, and optionally hours
    if (time.match(/\d{1,2}:\d\d:\d\d/)) {
      var [h, m, s] = time.split(":");
    } else {
      var [m, s] = time.split(":");
    }

    if (hasHour) {
      // If undefined use "00:" for hour, otherwise zero-pad hour and add ":"
      formattedTime = h === undefined ? "00:" : `${h.padStart(2, "0")}:`;
    }

    // Add zero-padded minutes and seconds
    formattedTime += `${m.padStart(2, "0")}:${s.padStart(2, "0")}`;

    return `&lt;br/>&lt;span class="time">${formattedTime}&lt;/span>`;
  });
};

/**
 * Formats duration
 *
 * Converts string from "[hh:]mm:ss" to a human-readable duration
 * excluding any hour, minute, or second with a value of 0
 *
 * @param {string} duration - The duration to format
 * @returns {string} The formatted duration
 */
exports.formatDuration = (duration) => {
  let formattedDuration = "";

  const [hours, minutes, seconds] = duration.split(":");

  if (hours &amp;&amp; hours > 0) {
    formattedDuration = `${parseInt(hours)}h `;
  }
  if (minutes &amp;&amp; minutes > 0) {
    formattedDuration += `${parseInt(minutes)}m `;
  }
  if (seconds &amp;&amp; seconds > 0) {
    formattedDuration += `${parseInt(seconds)}s`;
  }

  return formattedDuration;
};
</code></pre>
        </article>
    </section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Modules</h3><ul><li><a href="module-controllers_evidenceControllers.html">controllers/evidenceControllers</a></li><li><a href="module-utils_evidenceUtils.html">utils/evidenceUtils</a></li><li><a href="module-utils_helpers.html">utils/helpers</a></li></ul><h3><a href="global.html">Global</a></h3>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc/jsdoc">JSDoc 4.0.3</a> on Wed May 22 2024 19:05:04 GMT-0500 (Central Daylight Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>
